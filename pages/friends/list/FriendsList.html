<div id="friends-list" :v-scroll-lock="$device.isDesktop ? true : false">
  <FriendsMobileList v-if="$device.isMobile" />
  <!--<FriendsNav :setRoute="setRoute" :route="route" />-->
  <div class="columns" v-else>
    <div class="column is-half">
      <!-- Friends Add -->
      <FriendsAdd />
      <!-- Friend Requests -->
      <UiLoadersFriend
        :count="1"
        v-if="dataState.friends === DataStateType.Loading"
      />
      <template v-else-if="friends.incomingRequests.length">
        <div class="padded_divider">
          <TypographyHorizontalRuleText
            plaintext
            :value="$t('friends.requests')"
          />
        </div>
        <UiSimpleScroll scrollMode="vertical" scrollShow="scroll">
          <FriendsFriend
            v-for="friend in friends.incomingRequests"
            v-if="friend.userInfo"
            :friend="{
                name: friend.userInfo.name,
                address: friend.from,
                state: 'offline',
                status: friend.userInfo.status,
                request: friend
              }"
            :key="friend.from"
            request
          />
        </UiSimpleScroll>
      </template>
      <!-- Outgoing Requests -->
      <UiLoadersFriend
        :count="1"
        v-if="dataState.friends === DataStateType.Loading"
      />
      <template v-else-if="friends.outgoingRequests.length">
        <div class="padded_divider">
          <TypographyHorizontalRuleText
            plaintext
            :value="$t('friends.outgoing')"
          />
        </div>
        <FriendsFriend
          v-for="friend in alphaSortedOutgoing"
          v-if="friend.userInfo"
          :friend="{
              name: friend.userInfo.name,
              address: friend.to,
              state: 'offline',
              status: friend.userInfo.status,
              request: friend
            }"
          :key="friend.to"
          outgoing
        />
      </template>
    </div>

    <UiSimpleScroll
      scrollMode="vertical"
      scrollShow="scroll"
      containerClass="is-half"
    >
      <div class="friend-column">
        <!-- Friends List -->
        <div v-if="dataState.friends === DataStateType.Loading">
          <UiLoadersFriend :count="5" />
        </div>
        <div v-else>
          <div v-for="(value, key) in alphaSortedFriends" :key="key">
            <span class="alpha-divider">{{ key }}</span>
            <FriendsFriend
              v-for="friend in value"
              :friend="friend"
              :key="friend.address"
            />
          </div>
          <div
            class="loading-container"
            v-if="dataState.friends === DataStateType.Updating"
          >
            <UiLoadersUpdating />
          </div>
        </div>
        <div
          v-if="Object.entries($mock.blocked).length && featureReadyToShow"
          class="padded_divider"
        >
          <TypographyHorizontalRuleText
            plaintext
            :value="$t('friends.blocked_friends')"
          />
        </div>
        <FriendsFriend
          v-for="friend in $mock.blocked"
          v-if="featureReadyToShow"
          :friend="friend"
          :key="friend.address"
          blocked
        />
      </div>
    </UiSimpleScroll>
  </div>
</div>
