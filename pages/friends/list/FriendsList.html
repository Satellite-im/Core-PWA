<div id="friends-list" :v-scroll-lock="$device.isDesktop ? true : false">
  <FriendsMobileList v-if="$device.isMobile" />
  <!--<FriendsNav :setRoute="setRoute" :route="route" />-->
  <div class="columns" v-else>
    <div class="column is-half">
      <!-- Friends Add -->
      <FriendsAdd />
      <!-- Incoming Requests -->
      <UiLoadersFriend :count="1" v-if="data.loading" />
      <template
        v-else-if="data.friends && data.friends.requests && Object.keys(data.friends.requests).length"
      >
        <div class="padded_divider">
          <TypographyHorizontalRuleText
            plaintext
            :value="$t('friends.requests')"
          />
        </div>
        <FriendsFriend
          v-for="[did, request] in
          incomingRequests"
          v-if="request.status ===
          'pending' && request.user"
          :user='request.user || { did, name: request.user.name, status:
          "offline" }'
          :request="request"
          :key="request.from"
        />
      </template>
      <!-- Outgoing Requests -->
      <UiLoadersFriend :count="1" v-if="data.loading" />
      <template
        v-else-if="data.friends && data.friends.requests && Object.keys(data.friends.requests).length"
      >
        <div class="padded_divider">
          <TypographyHorizontalRuleText
            plaintext
            :value="$t('friends.outgoing')"
          />
        </div>
        <FriendsFriend
          v-for="[did, request] in
          outgoingRequests"
          v-if="request.status ===
          'pending' && request.user"
          :user='request.user || { did, name: request.user.name, status:
          "offline" }'
          :request="request"
          :key="request.from"
        />
      </template>
    </div>

    <UiSimpleScroll
      scrollMode="vertical"
      scrollShow="scroll"
      containerClass="is-half"
    >
      <div class="friend-column">
        <!-- Friends List -->
        <div v-if="data.loading">
          <UiLoadersFriend :count="5" />
        </div>
        <div v-else-if="data.friends && data.friends.details">
          <div
            v-for="[did, user] in Object.entries(data.friends.details)"
            :key="did"
          >
            <FriendsFriend v-if="user" :user="user" :key="did" />
          </div>
        </div>
        <div class="loading-container" v-if="data.loading">
          <UiLoadersUpdating />
        </div>
        <div
          v-else-if="data.friends && data.friends.blocked"
          class="padded_divider"
        >
          <FriendsFriend
            v-for="(user, did) in data.friends.blocked"
            :user="user"
            :key="did"
            blocked
          />
        </div>
      </div>
    </UiSimpleScroll>
  </div>
</div>
