:root {
  --flair-color: #b53471;
  --flair-color-rgb: 181, 52, 113;
}

.moonless_night {
  //------------- Colors -------------
  @white: #fff;

  @background: #15161d;
  @midground: #000;
  @graydient: linear-gradient(
    0deg,
    rgba(42, 54, 75, 0.5) 0%,
    rgba(48, 52, 71, 0.5) 100%
  );
  @gray: linear-gradient(
    0deg,
    rgba(42, 54, 75, 0.5) 0%,
    rgba(48, 52, 71, 0.5) 100%
  );
  @transparent: transparent;

  //------------- Ui Colors -------------
  @border-color: @gray;
  @flair-glow: 0 5px 14px -5px var(--flair-color);

  //------------- Ui Flair -------------
  @border: 1px solid @border-color;

  .background {
    background: @midground !important;
  }
  .background-alt {
    background: @graydient !important;
  }

  ::selection {
    &:extend(.font-secondary);
    background: var(--flair-color) !important;
  }

  /* Only for Safari to fix selection text background */

  @media not all and (min-resolution: 0.001dpcm) {
    @supports (-webkit-appearance: none) {
      ::selection {
        background: rgba(var(--flair-color-rgb), 0.99) !important;
      }
    }
  }

  &body,
  #app,
  .horizontal-rule,
  .vertical-divider {
    background: @midground !important;
    caret-color: var(--flair-color) !important;
  }

  .control-icon.active,
  #mobile-nav .active {
    background: transparent !important;
  }

  #mobile-nav {
    div {
      svg {
        color: @white !important;
      }
      &.active {
        border-radius: @half;
        color: var(--flair-color) !important;
        svg {
          color: var(--flair-color) !important;
        }
      }
      &:extend(.inline-flex-centered);
      margin: auto;
      width: 40px !important;
      height: 40px;
    }

    background: @graydient !important;
    backdrop-filter: @blur;
  }

  // ------------- Ui Elements-------------

  .files-aside {
    background: @graydient !important;
  }

  .sidebar-inner,
  .controls {
    background: @transparent !important;
    backdrop-filter: unset !important;
    box-shadow: none !important;
  }

  // Media
  #mediastream {
    .user,
    .tag {
      background: var(--flair-color) !important;
    }
    .tag {
      box-shadow: @flair-glow !important;
    }
  }
}

.tag {
  .tag-number {
    background: var(--flair-color) !important;
  }
}

.context-menu {
  p:hover {
    background: var(--flair-color) !important;
  }
}

.filterbox {
  .filter-options {
    input[type='checkbox'] {
      accent-color: var(--flair-color);
    }
  }
}

.edit-message {
  border-color: var(--flair-color) !important;
}
