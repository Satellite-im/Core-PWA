:root {
  --flair-color: @satellite-color;
  --flair-color-secondary: @satellite-color-secondary;
  --flair-color-rgb: @satellite-color-rgb;
}

html {
  // Fixes overscroll on Android;
  position: fixed;
}

@font-face {
  font-family: 'SpaceMono';
  font-style: normal;
  font-weight: 400;
  src: url('~assets/fonts/SpaceMono-Regular.ttf');
}
@font-face {
  font-family: 'SpaceMono';
  font-style: normal;
  font-weight: 700;
  src: url('~assets/fonts/SpaceMono-Bold.ttf');
}
@font-face {
  font-family: 'Poppins';
  font-style: normal;
  font-weight: 400;
  src: url('~assets/fonts/Poppins-Regular.ttf');
}
@font-face {
  font-family: 'Poppins';
  font-style: normal;
  font-weight: 700;
  src: url('~assets/fonts/Poppins-Bold.ttf');
}

#app {
  background: @background;
}

body {
  padding: env(safe-area-inset-top) env(safe-area-inset-right)
    env(safe-area-inset-bottom) env(safe-area-inset-left) !important;
  font-family: @body-font;
  font-variant-ligatures: none;
  touch-action: pan-x pan-y;
  overscroll-behavior: contain;
  caret-color: @flair-color;
  color: @body;
}

/* ===============
   Scrollbars 
   =============== */

* {
  &::-webkit-scrollbar {
    width: @scroll-bar-size;
    height: @scroll-bar-size;
  }
  &::-webkit-scrollbar-track {
    background: transparent;
  }
  &::-webkit-scrollbar-thumb {
    background-color: @flair-color;
    .round-corners();
  }
  scrollbar-color: @flair-color transparent;
  scrollbar-width: thin;
}

// only show scroll on hover
.hover-scroll {
  &::-webkit-scrollbar-thumb {
    background-color: transparent;
  }
  scrollbar-color: transparent transparent;

  &:hover,
  &:focus-within {
    &::-webkit-scrollbar-thumb {
      background-color: @flair-color;
      &:hover {
        background: @semitransparent-white-gradient;
        background-color: @flair-color;
      }
    }
    -ms-overflow-style: -ms-autohiding-scrollbar;
    scrollbar-color: @flair-color transparent;
  }
}

.hidden-scroll {
  -ms-overflow-style: none;
  scrollbar-width: none;
  &::-webkit-scrollbar {
    display: none;
  }
}

/* ===============
   General 
   =============== */

.outline {
  outline: solid 2px @light;
}

*:focus-visible {
  .outline();
}

a {
  cursor: pointer;
  color: @flair-color-secondary;
  text-decoration: none;
  &:hover {
    text-decoration: underline;
  }
}

button {
  padding: 0;
  border: none;
  cursor: pointer;
  background: transparent;
  display: flex;
  color: inherit;
  user-select: none;
}

code {
  color: @light;
  display: inline-block;
  .background-semitransparent-lighter();
}

hr {
  background: @splash-radial;
  height: 1px;
  margin: 1rem 0;
  border: none;
}

::selection {
  .background-flair();

  /* Safari fix */
  @media not all and (min-resolution: 0.001dpcm) {
    @supports (-webkit-appearance: none) {
      background: rgba(var(--flair-color-rgb), 0.99) !important;
    }
  }
}

.spoiler-container {
  cursor: pointer;
  background-color: @gray;
  border-radius: @corner-rounding-smaller;
  .spoiler {
    opacity: 0;
  }
  &.spoiler-open {
    cursor: text;
    background-color: transparent;
    .spoiler {
      opacity: 1;
    }
  }
}

// ------------- Ui Elements-------------

//Cards
.card {
  background: black;
  .card-image {
    &:extend(.background-flair);
  }
  .card-text {
    .price {
      .btn-buy {
        &:extend(.background-flair-gradient);
        &:extend(.glow-flair);
      }
    }
  }
}

.glyph-card {
  .glyph-card-header {
    &:extend(.background-flair);
  }
  .card-text {
    .price {
      .btn-buy {
        &:extend(.background-flair-gradient);
        &:extend(.glow-flair);
      }
    }
  }
}

//Toast
.toasted-container.top-center {
  top: env(safe-area-inset-top) !important;
}

.toasted-container .toasted {
  background: @flair-gradient !important;
  color: @secondary-text !important;
  font-family: @primary-font;

  &.error {
    background: @danger-gradient !important;
  }
}

.version {
  &:extend(.font-muted);
}

//Chip
.chip-item {
  &:extend(.background-flair);
  &:extend(.border-flair-small);
}

//Volume Slider
.volume-slider {
  .vue-slider-process {
    &:extend(.background-flair);
  }
  .vue-slider-dot-tooltip {
    .vue-slider-dot-tooltip-inner {
      font-family: @secondary-font;
      &:extend(.background-flair);
    }
  }
}

//Video
.plyr__control--overlaid {
  &:extend(.glow-flair);
  &:extend(.background-flair);
}

.plyr--full-ui input[type='range'] {
  &:extend(.font-flair);
}

//Info
.info {
  &--primary {
    &:extend(.background-flair-gradient);
  }
}
.info-toggle {
  &:extend(.font-flair);
}

// ------------- Ui Elements-------------

//Tooltip
.v-popper__popper {
  &.v-popper--theme-tooltip {
    .v-popper__inner {
      background: @semitransparent-dark-gradient;
      &:extend(.blur-less);
      font-family: @primary-font;
      color: @secondary-text;
      font-size: 0.75em;
    }

    .v-popper__arrow-outer {
      border-color: @midground;
    }
  }

  &.v-popper__popper--show-from .v-popper__wrapper {
    transform: scale(0.5);
  }

  &.v-popper__popper--show-to .v-popper__wrapper {
    transform: none;
    transition: transform 0.15s;
  }
}

//Search Input
.search-query-highlight {
  &:extend(.background-flair);
  &:extend(.glow-flair);
}

.search-option-group {
  li {
    &:not(.active) {
      background: transparent !important;
    }
    &:hover:not(:first-child),
    &.active {
      &:extend(.background-flair);
      &:extend(.glow-flair);
    }
  }
}

.search-result-pagination li {
  &.active {
    a {
      &:extend(.background-flair);
    }
  }
}

.search-result {
  &-header {
    &:extend(.font-flair);
  }
  &-filters {
    .date-input {
      &:extend(.background-flair-gradient);
      &:extend(.glow-flair);
      &:extend(.border-flair-small);
    }
    .date-icon {
      &:extend(.font-secondary);
    }
    .add-more-filters {
      &:extend(.font-flair);
      &:hover {
        &:extend(.background-flair);
      }
      &:active {
        &:extend(.background-flair);
      }
    }
  }
}

//Icon
.icon,
.file-icon,
.file-type-icon {
  &:extend(.font-flair);
}
.badged-icon {
  &:extend(.font-flair);

  .dynamic-icon {
    &:extend(.filter-glow-flair);
  }
}

// Typography
.title {
  &:extend(.font-primary);
}

.subtitle {
  &:extend(.font-muted);
}

.locked,
.disabled,
.disabled * {
  cursor: not-allowed !important;
}

.spin {
  animation-name: spin;
  animation-duration: 2000ms;
  animation-iteration-count: infinite;
  animation-timing-function: linear;
}

.bounce {
  animation-name: bounce;
  animation-duration: 2000ms;
  animation-iteration-count: infinite;
}

//------------- Navigation -------------

.search-option-heading,
.vc-weekday {
  &:extend(.font-flair);
}

.add-more-filters {
  &:hover {
    &:extend(.background-flair);
    &:extend(.font-primary);
  }
  &:extend(.font-flair);
}

.__nuxt-error-page {
  background: transparent;

  * {
    color: #ccc !important;
    fill: currentColor;
  }
}
