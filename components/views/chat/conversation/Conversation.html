<div class="conversation" ref="container">
  <UiBanner>
    <template #icon><key-icon size="1x" /></template>
    <template #header>{{$t('conversation.encrypted')}}</template>
  </UiBanner>
  <UiChatInfiniteScroll
    :isLoading="isLoadingMore"
    :noMore="noMore"
    @loadMore="loadMore"
  />
  <UiLoadersMessage :count="3" v-if="false" />
  <div class="messages">
    <template v-for="(item, i) of chatItems">
      <TypographyHorizontalRuleText
        v-if="item.isNextDay"
        :value="item.message.at.toString()"
      />
      <UiCaretDivider v-if="item.isFirstUnreadMessage" text="New Messages" />
      <Message
        :key="item.message.id"
        :message="item.message"
        :showHeader="item.showHeader"
        :replies="item.replies"
      />
    </template>
  </div>
</div>
