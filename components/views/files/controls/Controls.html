<div id="file-controls">
  <div class="search-container">
    <InteractablesInput
      size="small"
      input-kind="text"
      type="dark"
      :placeholder="$t('pages.files.browse.search')"
      class="search"
    />
    <InteractablesSelect
      :placeholder="$t('pages.files.file_type')"
      :options="[
        { text: 'Option 1', value: 1 },
        { text: 'Option 2', value: 2 },
        { text: 'Option 3', value: 3 },
      ]"
      size="small"
    />
  </div>
  <div class="add-container">
    <InteractablesButton
      type="primary"
      :text="$t('pages.files.controls.new_file')"
      size="small"
      :action="addFile"
      :loading="ui.isLoadingFileIndex"
    >
      <file-plus-icon size="1.3x" />
    </InteractablesButton>
    <InteractablesInputGroup
      v-model="text"
      class="name"
      size="small"
      type="primary"
      :action="addFolder"
      :placeholder="$t('pages.files.controls.name_folder')"
      :loading="ui.isLoadingFileIndex"
      :disabled="ui.isLoadingFileIndex"
    >
      <folder-plus-icon size="1.3x" />
    </InteractablesInputGroup>
    <input
      ref="upload"
      type="file"
      @click="resetFileUpload"
      @change="handleFile"
      style="width: 0; height: 0"
      multiple
    />
  </div>

  <span v-if="progress < 100">
    <UiProgress :progress="progress" />
    <TypographyText
      :text="`${$t('pages.files.controls.status')}: % ${progress} ${$t('pages.files.controls.upload_progress')}`"
      :size="6"
    />
  </span>
  <span v-if="startingUpload">
    <TypographyText
      :text="`${$t('pages.files.controls.status')}: ${$t('pages.files.controls.starting_upload')}`"
      :size="6"
    />
  </span>
  <span v-if="doingSomethingElse">
    <TypographyText
      :text="`${$t('pages.files.controls.status')}: ${$t('pages.files.controls.rebuilding_structure')}`"
      :size="6"
  /></span>
  <span v-if="updatingIndex">
    <TypographyText
      :text="`${$t('pages.files.controls.status')}: ${$t('pages.files.controls.updating_indexes')}`"
      :size="6"
  /></span>

  <div class="error-container" v-if="errors.length">
    <alert-triangle-icon size="1.3x" />
    <div>
      <TypographyError v-for="error in errors" :key="error" :text="error" />
    </div>
    <x-icon size="1.3x" class="close" @click="errors=[]" />
  </div>
  <div class="switcher-container">
    <TypographyText :size="6" :text="$t('pages.files.browse.files')" />
    <FilesViewSwitcher :changeView="changeView" />
  </div>
</div>
