<div v-if="call" class="user">
  <div class="indicators">
    <div class="indicator" v-if="muted.audio">
      <mic-off-icon />
    </div>
  </div>

  <div v-if="screenStream">
    <video
      class="video-stream screen-stream"
      :src-object.prop="screenStream"
      playsinline
      :id="`${isLocal ? 'local' : 'remote'}-screen-${user.address}`"
    ></video>
  </div>

  <div v-else-if="videoStream">
    <video
      class="video-stream"
      :src-object.prop="videoStream"
      playsinline
      :id="`${isLocal ? 'local' : 'remote'}-video-${user.address}`"
    ></video>
  </div>

  <div class="media-user" v-else-if="user">
    <UiCircle
      type="random"
      :seed="user.address"
      :size="$device.isMobile ? 36 : 65"
      :class="`${!audioStream ? 'calling' : ''}`"
      :source="user.profilePicture"
    />
    <TypographyTag :text="user.name" inverted />
  </div>
  <div
    v-if="!isLocal && !audio.deafened && audioStream"
    class="audio-stream-container"
  >
    <audio :src-object.prop="audioStream" autoplay />
  </div>
</div>
