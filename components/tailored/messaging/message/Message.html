<div class="is-message" @contextmenu="contextMenu">
  <div @mouseenter="mouseOver" @mouseleave="mouseOver"
    :class="`message-container ${messageHover ? 'message-hover' : '' }`">
    <TailoredMessagingMessageActions v-if="messageHover" :setReplyChatbarContent="setReplyChatbarContent"
      :emojiReaction="emojiReaction" />
    <VueMarkdown v-if="message.type === 'text'" :source="message.payload" class="markdown" />
    <UiImage v-else-if="message.type === 'image'" :source="message.payload.url" alt="" />
    <UiEmbedsVideoPlayer v-else-if="message.type === 'video'" :data="message.payload" />
    <UiEmbedsAudioPlayer v-else-if="message.type === 'audio'" :data="message.payload" />
    <UiEmbedsFile v-else-if="message.type === 'file'" :data="message.payload" />
    <TailoredMessagingMessageReactions
      :message="this.$props.message"
      :group="this.$props.group"
      :key="`${this.$props.message.id}-${this.$props.message.reactions ? this.$props.message.reactions.length : 0}`" />
  </div>
  <TailoredMessagingMessageReply :message="message" :group="group" />
</div>