<div>
  <UiSvgDefs class="hidden" />
  <InteractablesContextMenu v-if="ui.contextMenuStatus" />
  <transition name="modal">
    <UiModal
      v-if="ui.modals.callToAction"
      @close="() => toggleModal(ModalWindows.CALL_TO_ACTION)"
    >
      <CallToAction
        :close-modal="() => toggleModal(ModalWindows.CALL_TO_ACTION)"
      />
    </UiModal>
    <SettingsModal v-if="ui.settingsRoute && !$device.isMobile" />
    <UiModal v-if="ui.modals.wallet" @close="toggleModal(ModalWindows.WALLET)">
      <WalletPopup />
    </UiModal>
    <!-- <UiModal
      v-if="ui.modals.createServer"
      :close-modal="() => toggleModal(ModalWindows.CREATE_SERVER)"
      :title="$t('servers.create.heading')"
    >
      <ServersCreate
        v-click-outside="() => toggleModal(ModalWindows.CREATE_SERVER)"
        :close-modal="() => toggleModal(ModalWindows.CREATE_SERVER)"
      />
    </UiModal> -->
    <!-- <UiModal
      v-if="ui.modals.error"
      :title="$t('popups.error.title')"
      @close="toggleModal(ModalWindows.ERROR)"
    >
      <UiPopupsError
        v-click-outside="() => toggleModal(ModalWindows.ERROR)"
        :close-modal="() => toggleModal(ModalWindows.ERROR)"
        :set-close-timeout="5000"
      />
    </UiModal> -->
    <UiModal v-if="incomingCall">
      <MediaIncomingCall />
    </UiModal>
    <UiModal
      v-if="ui.modals.marketplace"
      @close="toggleModal(ModalWindows.MARKETPLACE)"
    >
      <Marketplace
        v-click-outside="() => toggleModal(ModalWindows.MARKETPLACE)"
        :close-modal="() => toggleModal(ModalWindows.MARKETPLACE)"
      />
    </UiModal>
    <UiModal
      v-if="ui.modals.glyph"
      :close-modal="() => toggleModal(ModalWindows.GLYPH)"
      @close="() => toggleModal(ModalWindows.GLYPH)"
      small
    >
      <Glyphs
        v-click-outside="() => toggleModal(ModalWindows.GLYPH)"
        :close-modal="() => toggleModal(ModalWindows.GLYPH)"
      />
    </UiModal>
    <UiModal
      v-if="ui.modals.userProfile"
      @close="() => toggleModal(ModalWindows.USER_PROFILE)"
    >
      <UserProfile
        :close-modal="() => toggleModal(ModalWindows.USER_PROFILE)"
      />
    </UiModal>
    <UiModal
      v-if="ui.modals.renameFile"
      @close="toggleModal(ModalWindows.RENAME_FILE)"
    >
      <FilesRename :close-modal="() => toggleModal(ModalWindows.RENAME_FILE)" />
    </UiModal>
    <UiUpdateModal
      v-if="ui.modals.changelog"
      @close="() => toggleModal(ModalWindows.CHANGELOG)"
    />
    <UiChatImageOverlay v-if="ui.chatImageOverlay" />
    <FilesView v-if="files.preview" />
    <UiWelcomeModal v-if="accounts.isNewAccount" />
  </transition>
  <transition :name="$device.isMobile ? 'slide' : ''">
    <InteractablesQuickProfile v-if="ui.quickProfile" :user="ui.quickProfile" />
  </transition>
  <UiPip
    v-if="$device.isDesktop && isBackgroundCall"
    v-slot="{ dragging, width, height }"
  >
    <MediaPreviewCall :dragging="dragging" :width="width" :height="height" />
  </UiPip>
</div>
