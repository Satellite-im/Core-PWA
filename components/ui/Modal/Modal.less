.modal-container {
  display: flex;
  position: fixed;
  inset: 0;
  backdrop-filter: @light-blur brightness(75%);
  z-index: 1;

  &.fullscreen {
    height: 100%;
    width: 100%;
    .modal {
      flex-grow: 1;
    }
  }

  &:not(.fullscreen) {
    align-items: center;
    justify-content: center;
    .modal {
      .modal-gradient();
    }
  }

  .modal {
    transform-origin: 50% 200%;
    position: relative;
    box-shadow: @ui-shadow-large;
    border-radius: @corner-rounding;
    display: flex;
    justify-content: center;
    align-items: center;

    padding-bottom: max(
      calc(var(--safe-area-inset-bottom)),
      var(--keyboard-height, 0px)
    );

    @media only screen and (max-width: @mobile-breakpoint) {
      padding-bottom: max(
        calc(var(--safe-area-inset-bottom) + @mobile-nav-height),
        var(--keyboard-height, 0px)
      );
    }

    padding-top: var(--safe-area-inset-top);
  }
}

.modal-enter-active,
.modal-leave-active {
  &,
  .modal {
    transition: all @animation-speed-long ease;
  }
}

.modal-enter,
.modal-leave-to {
  backdrop-filter: blur(0px);

  .modal {
    opacity: 0;
    transform: perspective(880px) rotateX(0.5deg);
    filter: @light-blur;
  }
}

@media only screen and (max-width: @mobile-breakpoint) {
  .modal {
    height: 100%;
    width: 100%;
  }
}
