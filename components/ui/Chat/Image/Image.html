<UiContextMenu class="image" :items="contextMenuValues">
  <figure class="image-placeholder" v-if="usePlaceholder">
    <img
      class="image-placeholder-img"
      data-cy="chat-image-placeholder"
      :src="placeholderImage"
      alt=""
    />
    <figcaption data-cy="image-placeholder-caption">
      <TypographyText font="heading" size="xs">
        {{ $t('errors.chat.failed_load') }}
      </TypographyText>
    </figcaption>
  </figure>
  <ui-image-container
    v-else-if="dataURL"
    class="image-container"
    :nsfw="attachment.nsfw"
  >
    <img
      :src="dataURL"
      @click="imageClick"
      @error="() => usePlaceholder = true"
      data-cy="chat-image"
    />
  </ui-image-container>
  <a
    v-show="false"
    ref="download"
    :href="dataURL"
    :rel="$t('controls.download')"
    :download="attachment.name"
  />
</UiContextMenu>
