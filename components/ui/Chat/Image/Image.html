<div class="image">
  <figure class="image-placeholder" v-if="usePlaceholder">
    <img
      class="image-placeholder-img"
      data-cy="chat-image-placeholder"
      :src="placeholderSrc"
      :alt="placeholderText"
    />
    <figcaption
      class="image-placeholder-caption"
      data-cy="image-placeholder-caption"
    >
      {{placeholderText}}
    </figcaption>
  </figure>
  <div
    v-else
    class="image-container"
    :style="{ width: `${size.width}px`, height: `${size.height}px` }"
  >
    <div v-if="loading" class="image-loader">
      <UiLoadersLoadingBar />
    </div>
    <img
      class="is-image"
      :class="`${(image.nsfw && blockNsfw) ? 'blur-image' : ''} ${ loading ? 'hidden' : 'visible'}`"
      :src="image.url"
      @click="clickHandler"
      @error="onImageError"
      @load="onImageLoad"
      data-cy="chat-image"
    />
  </div>
</div>
