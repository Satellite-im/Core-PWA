<div class="input-group">
  <TypographyText v-if="label" as="label" uppercase>
    {{ label }}
  </TypographyText>
  <div class="input-outer" :class="`font-size-${size}`">
    <div
      class="input-inner"
      :class="[
        `is-${color}`,
        {
          'is-danger': error || invalid,
          'has-sibling': $slots.default,
          transparent: transparent,
        },
      ]"
    >
      <input
        ref="input"
        class="input font-body font-color-light"
        :value="text"
        :type="derivedType"
        :readonly="readonly"
        :placeholder="placeholder"
        :minLength="minLength"
        :maxLength="maxLength"
        :disabled="disabled"
        data-cy="input-group"
        @keydown.enter="handleSubmit"
        @input="handleInput"
      />
      <div class="append input-options">
        <button v-if="type === 'password'" @click="toggleShowPassword">
          <eye-icon size="1x" v-if="!showPassword" />
          <eye-off-icon size="1x" v-else />
        </button>
        <button v-if="showClearButton && !isEmpty" @click="clearInput">
          <delete-icon size="1x" />
        </button>
        <div v-if="$slots.append" class="slot">
          <slot name="append" />
        </div>
      </div>
    </div>
    <InteractablesButton
      v-if="$slots.default"
      class="button"
      :color="color"
      :disabled="disabled"
      data-cy="submit-input"
      :type="buttonType"
      @click="handleSubmit"
    >
      <UiLoadersSpinner v-if="loading" spinning />
      <slot v-else></slot>
    </InteractablesButton>
  </div>
  <span v-if="showLimit" class="char-limit">
    {{ text.length }}/{{ maxLength }}
  </span>
  <TypographyText v-if="error" as="small" color="danger">
    {{ error }}
  </TypographyText>
</div>
